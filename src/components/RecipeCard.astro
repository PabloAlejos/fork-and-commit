---
// Props interface - Define qu√© datos necesita este componente
interface Props {
	title: string;
	slug: string;
	category: string;
	totalTime: string;
	difficulty: string;
	servings: number;
	tags?: string[]; // Opcional porque algunas recetas pueden no tener tags
}

// Destructuring de props con valores por defecto
const {
	title,
	slug,
	category,
	totalTime,
	difficulty,
	servings,
	tags = [] // Default a array vac√≠o si no se pasa
} = Astro.props;
---

<a href={`/recipes/${slug}`} class="recipe-card">
	<article>
		<div class="card-header">
			<h2>{title}</h2>
			<span class="category">{category}</span>
		</div>

		<div class="card-meta">
			<span class="meta-item">
				<span class="icon">‚è±Ô∏è</span>
				{totalTime}
			</span>
			<span class="meta-item">
				<span class="icon">üìä</span>
				{difficulty}
			</span>
			<span class="meta-item">
				<span class="icon">üçΩÔ∏è</span>
				{servings} pers.
			</span>
		</div>

		{tags && tags.length > 0 && (
			<div class="tags">
				{tags.slice(0, 3).map(tag => (
					<button class="tag tag-clickable" data-tag={tag}>{tag}</button>
				))}
				{tags.length > 3 && (
					<span class="tag-more">+{tags.length - 3}</span>
				)}
			</div>
		)}
	</article>
</a>

<style>
	/* Recipe card */
	.recipe-card {
		display: block;
		text-decoration: none;
		color: inherit;
		background: white;
		border-radius: 12px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		transition: all 0.3s ease;
		overflow: hidden;
	}

	.recipe-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
	}

	.recipe-card article {
		padding: 1.5rem;
	}

	/* Card header */
	.card-header {
		margin-bottom: 1rem;
	}

	.card-header h2 {
		font-size: 1.25rem;
		margin-bottom: 0.5rem;
		color: var(--warmblack);
		line-height: 1.3;
	}

	.category {
		display: inline-block;
		background-color: var(--terracotta);
		color: white;
		padding: 0.25rem 0.75rem;
		border-radius: 16px;
		font-size: 0.75rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.5px;
	}

	/* Card meta */
	.card-meta {
		display: flex;
		gap: 1rem;
		flex-wrap: wrap;
		margin-bottom: 1rem;
		padding-bottom: 1rem;
		border-bottom: 1px solid #ecf0f1;
	}

	.meta-item {
		display: flex;
		align-items: center;
		gap: 0.25rem;
		color: #7f8c8d;
		font-size: 0.875rem;
	}

	.icon {
		font-size: 1rem;
	}

	/* Tags */
	.tags {
		display: flex;
		gap: 0.5rem;
		flex-wrap: wrap;
	}

	/* Responsive */
	@media (max-width: 640px) {
		.recipe-card article {
			padding: 1.25rem;
		}
	}
</style>
